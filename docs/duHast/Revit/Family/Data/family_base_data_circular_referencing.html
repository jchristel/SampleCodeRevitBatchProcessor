<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>duHast.Revit.Family.Data.family_base_data_circular_referencing module &#8212; Sample Code Revit Batch Processor 0.0.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/css/adctheme.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/sphinx_highlight.js"></script>
    <meta name="generator" content="Sphinx/ADC Theme by Mirounga www.mirounga.fr"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="top" title="Sample Code Revit Batch Processor 0.0.7 documentation" href="../../../../index.html" />
    <link media="only screen and (max-device-width: 480px)" href="../../../../_static/css/mobile.css" type="text/css" rel="stylesheet" /> 
  </head><body>
<div id="docstitle">
    <p>Sample Code Revit Batch Processor 0.0.7 documentation</p>
</div>
<div id="header">
    <div id="title"><h1>duHast.Revit.Family.Data.family_base_data_circular_referencing module</h1></div>
    <ul id="headerButtons">
        <li id="toc_button"><div class="headerButton"><a href="#">Table of Contents</a></div></li>
        <li id="page_buttons">
            <div class="headerButton"><a href="../../../../genindex.html" title="General Index" accesskey="I">index</a></div>
            <div class="headerButton"><a href="../../../../py-modindex.html" title="Python Module Index" >modules</a></div>
        </li>
    </ul>
</div>

<div id="sphinxsidebar">
  <div class="sphinxsidebarwrapper">
        <ul><li class="toctree-l1"><a href="../../../../index.html">Main Page</a></li></ul>
        
      <h3>This Page</h3>
      <ul class="this-page-menu">
        <li><a href="../../../../_sources/duHast/Revit/Family/Data/family_base_data_circular_referencing.rst.txt"
               rel="nofollow">Show Source</a></li>
      </ul>
    <div id="searchbox" style="display: none">
        <form class="search" action="../../../../search.html" method="get">
                        <div class="search-wrapper">
                        <input type="submit" value="" class="search-left"/>
                        <input class="prettysearch" type="text" name="q" size="18" title="Enter search terms or a module, class or function name."/>
                        <span class="search-right">&nbsp;</span>
                        </div>
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('#searchbox').show(0);</script>
  </div>
</div>



    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <section id="module-duHast.Revit.Family.Data.family_base_data_circular_referencing">
<span id="duhast-revit-family-data-family-base-data-circular-referencing-module"></span><h1>duHast.Revit.Family.Data.family_base_data_circular_referencing module<a class="headerlink" href="#module-duHast.Revit.Family.Data.family_base_data_circular_referencing" title="Permalink to this heading">¶</a></h1>
<section id="family-base-data-analysis-module-containing-functions-to-find-circular-family-referencing-in-extracted-data">
<h2>Family Base data analysis module containing functions to find circular family referencing in extracted data.<a class="headerlink" href="#family-base-data-analysis-module-containing-functions-to-find-circular-family-referencing-in-extracted-data" title="Permalink to this heading">¶</a></h2>
<p>A circular reference is when a family A has a family B nested but family B has also family A nested.</p>
<p>Algorithm description:</p>
<ul class="simple">
<li><p>read base data file processing list (created by RevitFamilyBaseDataProcessor module)</p></li>
<li><p>extract all root families (no ‘ :: ‘ in root path)</p></li>
<li><p>extract all nested families (’ :: ‘in root path)</p></li>
<li><dl class="simple">
<dt>loop over root families</dt><dd><ul>
<li><dl class="simple">
<dt>loop over nested families </dt><dd><ul>
<li><dl class="simple">
<dt>check if root family is in nested family root path</dt><dd><ul>
<li><p>yes</p></li>
<li><p>get all families higher in root path and add to parents prop of root family (if not there already)</p></li>
<li><p>get all families lower in root path of nested family and add to child property of root family if not already</p></li>
<li><p>TODO: Check this theory: families always have the same children…once children are identified there is no need to check over and over again!</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>loop over root family </dt><dd><ul>
<li><p>check whether any family exist in parent and child family
- YES: found circular reference</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_base_data_circular_referencing.find_parents_and_children">
<span class="sig-name descname"><span class="pre">find_parents_and_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overall_family_base_root_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overall_family_base_nested_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#duHast.Revit.Family.Data.family_base_data_circular_referencing.find_parents_and_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Loop over all root families and check if they exist in root path of any nested families.
if so extract families higher up the root path tree as parents and families further down the root path tree as children</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>overall_family_base_root_data</strong> (<em>[</em><a class="reference internal" href="family_report_utils.html#duHast.Revit.Family.Data.family_report_utils.rootFamily" title="duHast.Revit.Family.Data.family_report_utils.rootFamily"><em>rootFamily</em></a><em>]</em>) – List of tuples containing root family data.</p></li>
<li><p><strong>overall_family_base_nested_data</strong> (<em>[</em><a class="reference internal" href="family_report_utils.html#duHast.Revit.Family.Data.family_report_utils.nestedFamily" title="duHast.Revit.Family.Data.family_report_utils.nestedFamily"><em>nestedFamily</em></a><em>]</em>) – List of tuples containing nested family data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of tuples containing root family data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[<a class="reference internal" href="family_report_utils.html#duHast.Revit.Family.Data.family_report_utils.rootFamily" title="duHast.Revit.Family.Data.family_report_utils.rootFamily">rootFamily</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_base_data_circular_referencing.find_circular_references">
<span class="sig-name descname"><span class="pre">find_circular_references</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overall_family_base_root_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#duHast.Revit.Family.Data.family_base_data_circular_referencing.find_circular_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Loops over family data and returns any families which appear in circular references.
(A family appears in their parent and child collection)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>overall_family_base_root_data</strong> (<em>[</em><a class="reference internal" href="family_report_utils.html#duHast.Revit.Family.Data.family_report_utils.rootFamily" title="duHast.Revit.Family.Data.family_report_utils.rootFamily"><em>rootFamily</em></a><em>]</em>) – List of tuples containing root family data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of tuples containing root family data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[<a class="reference internal" href="family_report_utils.html#duHast.Revit.Family.Data.family_report_utils.rootFamily" title="duHast.Revit.Family.Data.family_report_utils.rootFamily">rootFamily</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_base_data_circular_referencing.check_families_have_circular_references">
<span class="sig-name descname"><span class="pre">check_families_have_circular_references</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">family_base_data_report_file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#duHast.Revit.Family.Data.family_base_data_circular_referencing.check_families_have_circular_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a family base data report and identifies any families which contain circular reference.</p>
<p>Makes use of multithreading when more then 2 cores are present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>family_base_data_report_file_path</strong> (<em>str</em>) – Fully qualified file path to family base data report file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Result class instance.</p>
<ul class="simple">
<li><p>result.status. True if circular referencing file was written successfully, otherwise False.</p></li>
<li><p>result.message will contain the summary messages of the process including time stamps.</p></li>
<li><p>result.result empty list</p></li>
</ul>
<p>On exception:</p>
<ul class="simple">
<li><p>result.status (bool) will be False.</p></li>
<li><p>result.message will contain generic exception message.</p></li>
<li><p>result.result will be empty</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../../../Utilities/Objects/result.html#duHast.Utilities.Objects.result.Result" title="duHast.Utilities.Objects.result.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>


          </div> 
        </div>
      </div>
    <div class="footer">
    <p>
      &copy; Copyright 2023, Jan Christel.
      Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 5.3.0 <a href="https://github.com/mga-sphinx/sphinx_adc_theme">ADC Theme</a> .
    (Revision )
        </p>
    </div>
      <div class="clearer"></div>
    </div>
        <div id="breadcrumbs">
                duHast.Revit.Family.Data.family_base_data_circular_referencing module
        </div>
        <script type="text/javascript" charset="utf-8" src="../../../../_static/js/toc.js"></script>
  </body>
</html>