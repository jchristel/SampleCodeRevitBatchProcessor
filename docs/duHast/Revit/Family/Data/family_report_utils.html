<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>duHast.Revit.Family.Data.family_report_utils module &#8212; Sample Code Revit Batch Processor 0.0.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/css/adctheme.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/sphinx_highlight.js"></script>
    <meta name="generator" content="Sphinx/ADC Theme by Mirounga www.mirounga.fr"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="top" title="Sample Code Revit Batch Processor 0.0.7 documentation" href="../../../../index.html" />
    <link media="only screen and (max-device-width: 480px)" href="../../../../_static/css/mobile.css" type="text/css" rel="stylesheet" /> 
  </head><body>
<div id="docstitle">
    <p>Sample Code Revit Batch Processor 0.0.7 documentation</p>
</div>
<div id="header">
    <div id="title"><h1>duHast.Revit.Family.Data.family_report_utils module</h1></div>
    <ul id="headerButtons">
        <li id="toc_button"><div class="headerButton"><a href="#">Table of Contents</a></div></li>
        <li id="page_buttons">
            <div class="headerButton"><a href="../../../../genindex.html" title="General Index" accesskey="I">index</a></div>
            <div class="headerButton"><a href="../../../../py-modindex.html" title="Python Module Index" >modules</a></div>
        </li>
    </ul>
</div>

<div id="sphinxsidebar">
  <div class="sphinxsidebarwrapper">
        <ul><li class="toctree-l1"><a href="../../../../index.html">Main Page</a></li></ul>
        
      <h3>This Page</h3>
      <ul class="this-page-menu">
        <li><a href="../../../../_sources/duHast/Revit/Family/Data/family_report_utils.rst.txt"
               rel="nofollow">Show Source</a></li>
      </ul>
    <div id="searchbox" style="display: none">
        <form class="search" action="../../../../search.html" method="get">
                        <div class="search-wrapper">
                        <input type="submit" value="" class="search-left"/>
                        <input class="prettysearch" type="text" name="q" size="18" title="Enter search terms or a module, class or function name."/>
                        <span class="search-right">&nbsp;</span>
                        </div>
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('#searchbox').show(0);</script>
  </div>
</div>



    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <section id="module-duHast.Revit.Family.Data.family_report_utils">
<span id="duhast-revit-family-data-family-report-utils-module"></span><h1>duHast.Revit.Family.Data.family_report_utils module<a class="headerlink" href="#module-duHast.Revit.Family.Data.family_report_utils" title="Permalink to this heading">¶</a></h1>
<section id="family-report-data-utility-module-containing-functions-to-read-the-data-from-file">
<h2>Family report data utility module containing functions to read the data from file.<a class="headerlink" href="#family-report-data-utility-module-containing-functions-to-read-the-data-from-file" title="Permalink to this heading">¶</a></h2>
<p>Reads family base data into two list of named tuples.</p>
<p>rootFamily:</p>
<ul class="simple">
<li><p>name</p></li>
<li><p>category</p></li>
<li><p>filePath</p></li>
</ul>
<p>nestedFamily:</p>
<ul class="simple">
<li><p>name</p></li>
<li><p>category</p></li>
<li><p>filePath</p></li>
<li><p>rootPath  [str]</p></li>
<li><p>categoryPath [str]</p></li>
</ul>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.rootFamily">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rootFamily</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filePath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.rootFamily" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<p>Create new instance of rootFamily(name, category, filePath)</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.rootFamily.category">
<span class="sig-name descname"><span class="pre">category</span></span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.rootFamily.category" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.rootFamily.filePath">
<span class="sig-name descname"><span class="pre">filePath</span></span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.rootFamily.filePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.rootFamily.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.rootFamily.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.nestedFamily">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nestedFamily</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filePath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootPath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categoryPath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.nestedFamily" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<p>Create new instance of nestedFamily(name, category, filePath, rootPath, categoryPath)</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.nestedFamily.category">
<span class="sig-name descname"><span class="pre">category</span></span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.nestedFamily.category" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.nestedFamily.categoryPath">
<span class="sig-name descname"><span class="pre">categoryPath</span></span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.nestedFamily.categoryPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.nestedFamily.filePath">
<span class="sig-name descname"><span class="pre">filePath</span></span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.nestedFamily.filePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.nestedFamily.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.nestedFamily.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.nestedFamily.rootPath">
<span class="sig-name descname"><span class="pre">rootPath</span></span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.nestedFamily.rootPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.read_unique_families_from_report">
<span class="sig-name descname"><span class="pre">read_unique_families_from_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filePath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.read_unique_families_from_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads list of families from any report file into list of unique named tuples.
Reports needs:</p>
<ul class="simple">
<li><p>to contain the following columns (in this order):  root path, category path , family name, family file path</p></li>
<li><p>a tab separated file</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filePath</strong> (<em>str</em>) – Fully qualified file path to family base data report file.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>Exception</strong> – “Families base data list files does not exist.”</p></li>
<li><p><strong>Exception</strong> – “Empty Families base data list file!”</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Two lists: first list of named tuples contain family root data, second list contains family nested data.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<a class="reference internal" href="#duHast.Revit.Family.Data.family_report_utils.rootFamily" title="duHast.Revit.Family.Data.family_report_utils.rootFamily">rootFamily</a>], [<a class="reference internal" href="#duHast.Revit.Family.Data.family_report_utils.nestedFamily" title="duHast.Revit.Family.Data.family_report_utils.nestedFamily">nestedFamily</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.read_unique_families_with_row_data_from_report">
<span class="sig-name descname"><span class="pre">read_unique_families_with_row_data_from_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filePath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.read_unique_families_with_row_data_from_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads list of families from any report file into dictionaries where key is a named tuple and values are the rows associated with that family
Reports needs:</p>
<ul class="simple">
<li><p>to contain the following columns (in this order):  root path, category path , family name, family file path</p></li>
<li><p>a tab separated file</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filePath</strong> (<em>str</em>) – Fully qualified file path to family base data report file.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>Exception</strong> – “Families base data list files does not exist.”</p></li>
<li><p><strong>Exception</strong> – “Empty Families base data list file!”</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Two dictionaries: first dictionary contain family root data, second dictionary contains family nested data.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>{rootFamily:[[str]]}, {nestedFamily:[[str]]}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="duHast.Revit.Family.Data.family_report_utils.combine_reports">
<span class="sig-name descname"><span class="pre">combine_reports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previousReportPath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newReportPath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#duHast.Revit.Family.Data.family_report_utils.combine_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>This combines two reports by:</p>
<ul class="simple">
<li><p>building an aggregate data dictionary of each report (key root family file path, values lists containing the row data read from file for the root family as well as any nested families)</p></li>
<li><dl class="simple">
<dt>comparing the previous report dictionary with the new report dictionary and</dt><dd><ul>
<li><p>adding any new families found in the new report dictionary</p></li>
<li><p>updating any previous report families found with data matching the root family in the new report dictionary</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>All reports start with the following 2 columns:
root        rootCategory</p>
<p>First entry (after split at separator) in each of these columns identifies root family uniquely.
Assume that new report only ever adds or substitutes entries in previous report but does not delete from it!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>previousReportPath</strong> (<em>str</em>) – A fully qualified file path to the previous report file.</p></li>
<li><p><strong>newReportPath</strong> (<em>str</em>) – A fully qualified file path to the new report file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of lists of report rows</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[[str]]</p>
</dd>
</dl>
</dd></dl>

</section>


          </div> 
        </div>
      </div>
    <div class="footer">
    <p>
      &copy; Copyright 2023, Jan Christel.
      Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 5.3.0 <a href="https://github.com/mga-sphinx/sphinx_adc_theme">ADC Theme</a> .
    (Revision )
        </p>
    </div>
      <div class="clearer"></div>
    </div>
        <div id="breadcrumbs">
                duHast.Revit.Family.Data.family_report_utils module
        </div>
        <script type="text/javascript" charset="utf-8" src="../../../../_static/js/toc.js"></script>
  </body>
</html>